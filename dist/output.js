!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.OptionMenu=t():e.OptionMenu=t()}(self,(function(){return(()=>{var e={203:e=>{self,e.exports=(()=>{"use strict";var e={d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{CreateElement:()=>a});var a=function(e){var t,a=e.tagname,n=e.classnames,s=e.content,i=e.attributes;if(t=a?document.createElement(a):document.createElement("div"),n&&(t.className=n),s&&(t.innerHTML=s),i&&0!==Object.keys(i).length&&Object.getPrototypeOf(i)===Object.prototype)for(var o in i)if(Object.hasOwnProperty.call(i,o)){var r=i[o];t.setAttribute(o,r)}return t};return t})()}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";a.r(n),a.d(n,{List:()=>o});var e=a(203),t=function(e){var t=e.url,a=e.options,n=e.onsuccess,s=e.onfail;fetch(t,a).then((function(e){if(e.ok)return e.json();throw new Error("(Data Sender) ".concat(e.status,": Something went wrong"))})).then((function(e){return n(e)})).catch((function(e){return s(e)}))};function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function a(e){var t=this,n=e.target,s=e.data,i=e.dataURL,o=e.addURL,r=e.removeURL,l=e.onAdd,u=e.onRemove;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.target=document.querySelector(n),"INPUT"!=this.target.nodeName&&"TEXTAREA"!=this.target.nodeName||(this.targetIsInput=!0),i?this.data=function(e){var t=e.onfetched,a=e.onfail;fetch(e.url,{method:"get"}).then((function(e){if(e.ok)return e.json();throw new Error("(Data Fetcher) ".concat(e.status,": Something went wrong"))})).then((function(e){return t(e)})).catch((function(e){return a(e)}))}({url:i,onfetched:function(e){t.data=e,t.RenderUI()},onfail:function(e){return console.error(e)}}):s?(this.data=s,this._RenderUI()):(this.data={added:[],available:[]},this._RenderUI()),o&&(this.addURL=o),r&&(this.removeURL=r),l&&"function"==typeof l&&(this.onAdd=l),u&&"function"==typeof u&&(this.onRemove=u)}var n,o;return n=a,o=[{key:"_AddItem",value:function(e){var a,n=e.currentTarget.parentNode.parentNode.parentNode.getAttribute("value"),i=this.data.available,o=this.data.added;if("object"===s(i[0])){var r=i.map((function(e){return e.value})).indexOf(n);a=i[r],o.push(a),i.splice(r,1),this.onAdd&&this.onAdd(a)}else"string"==typeof i[0]&&(i.splice(i.indexOf(n),1),o.push(n),this.onAdd&&this.onAdd(n));var l=this.availableList.querySelector('[value="'.concat(n,'"]')),u=l.querySelector("button"),c=u.querySelector("i");if(this.addedList.insertBefore(l,this.CustomInput),u.classList.remove("is-primary"),c.classList.remove("fa-plus"),u.classList.add("is-danger"),c.classList.add("fa-minus"),this.addURL){var d=new FormData;d.append("value",n),t({url:this.addURL,onsuccess:function(e){return console.log(e)},onfail:function(e){return console.error(e)},options:{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="_token"]').getAttribute("content")},body:d}})}}},{key:"_CreateCustomItem",value:function(){var t=this,a=this.DataIsObject?'\n        <a>\n        <form>\n            <div class="field">\n                <label class="label" for="label">Nama</label>\n                <div class="control">\n                    <input type="text" name="label" class="input"/>\n                </div>\n            </div>\n            <div class="field">\n                <label class="label" for="value">Nilai</label>\n                <div class="control">\n                    <input type="text" name="value" class="input"/>\n                </div>\n            </div>\n            <input type="submit" value="Tambah" class="button is-primary"/>\n        </form></a>\n        ':'<a>\n        <form>\n            <div class="field">\n                <label class="label" for="label">Nama</label>\n                <div class="control">\n                    <input type="text" name="value" class="input"/>\n                </div>\n            </div>\n            <input type="submit" value="Tambah" class="button is-primary"/>\n        </form></a>\n        ',n=(0,e.CreateElement)({tagname:"li",classnames:"option-list-item",content:a});n.querySelector("form").addEventListener("submit",(function(e){if(e.preventDefault(),t.DataIsObject){var a=n.querySelector('input[name="label"]').value,s=n.querySelector('input[name="value"]').value;t._InsertCustomItem({label:a,value:s})}else{var i=n.querySelector('input[name="value"]').value;t._InsertCustomItem({value:i})}n.parentNode.removeChild(n),n=null})),this.addedList.insertBefore(n,this.CustomInput)}},{key:"_InsertCustomItem",value:function(t){var a,n=this,s=t.label,i=t.value,o=(0,e.CreateElement)({tagname:"li",classnames:"option-list-item",attributes:{value:i,isCustom:!0},content:'\n                <a class="columns is-mobile">\n                    <div class="column">'.concat(s||i,'</div>\n                    <div class="column is-narrow">\n                        <button class="button is-danger">\n                            <span class="icon">\n                                <i class="fas fa-minus"></i>\n                            </span>\n                        </button>\n                    </div>\n                </a>')}),r=this.data.added;a=this.DataIsObject?{value:i,label:s||i}:i,r.push(a),o.querySelector("button").addEventListener("click",(function(e){return n._MoveItem(e)})),this.addedList.insertBefore(o,this.CustomInput),this.targetIsInput&&(this.target.value=JSON.stringify(this.data.added))}},{key:"_MoveItem",value:function(e){for(var t=e.currentTarget;"UL"!=t.nodeName;)t=t.parentNode;t==this.addedList?this._RemoveItem(e):t==this.availableList&&this._AddItem(e),this.targetIsInput&&(this.target.value=JSON.stringify(this.data.added))}},{key:"_PopulateList",value:function(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=!1,o="";if(n.forEach((function(n){if(!i){var r={label:"",value:""};if("object"===s(n)?(Object.hasOwnProperty.call(n),r.label=n.label,Object.hasOwnProperty.call(n,"value")?(a.DataIsObject=!0,r.value=n.value,""==r.label&&(r.label=n.value)):(i=!0,o="Incorrect data format")):r.label=r.value=n,!i){var l=t==a.availableList?{icon:"plus",class:"primary"}:{icon:"minus",class:"danger"},u=(0,e.CreateElement)({tagname:"li",classnames:"option-list-item",attributes:{value:r.value},content:'\n                            <a class="columns is-mobile is-multiline">\n                                <div class="column">'.concat(r.label,'</div>\n                                <div class="column is-narrow">\n                                    <button type="button" class="button is-').concat(l.class,'">\n                                        <span class="icon">\n                                            <i class="fas fa-').concat(l.icon,'"></i>\n                                        </span>\n                                    </button>\n                                </div>\n                            </a>')});u.querySelector("button").addEventListener("click",(function(e){return a._MoveItem(e)})),t.append(u)}}})),i)return console.error(o),void t.append(o);if(t==this.addedList){var r=this.CustomInput=(0,e.CreateElement)({name:"li",attributes:{value:"create-new"},content:'\n                <a class="columns is-mobile is-multiline">\n                    <div class="column is-narrow">\n                        <span class="icon-text"\n                            <span class="icon">\n                                <i class="fas fa-plus"></i>\n                            </span>\n                            <span>Buat Baru</span>\n                        </span>\n                    </div>\n                </a>\n                '});r.addEventListener("click",(function(e){return a._CreateCustomItem()})),t.append(r)}}},{key:"_RemoveItem",value:function(e){var a,n=e.currentTarget.parentNode.parentNode.parentNode.getAttribute("value"),i=e.currentTarget.parentNode.parentNode.parentNode.hasAttribute("isCustom"),o=this.data.available,r=this.data.added;if("object"===s(r[0])){var l=r.map((function(e){return e.value})).indexOf(n);a=r[l],i||o.push(a),r.splice(l,1),this.onRemove&&this.onRemove(a)}else"string"==typeof r[0]&&(r.splice(r.indexOf(n),1),i||o.push(n),this.onRemove&&this.onRemove(n));var u=this.addedList.querySelector('[value="'.concat(n,'"]')),c=u.querySelector("button"),d=c.querySelector("i");if(i?this.addedList.removeChild(u):(this.availableList.append(u),c.classList.remove("is-danger"),d.classList.remove("fa-minus"),c.classList.add("is-primary"),d.classList.add("fa-plus")),this.removeURL){var m=new FormData;m.append("value",n),t({url:this.removeURL,onsuccess:function(e){return console.log(e)},onfail:function(e){return console.error(e)},options:{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="_token"]').getAttribute("content")},body:m}})}}},{key:"_RenderUI",value:function(){var t=(0,e.CreateElement)({classnames:"container"}),a=(0,e.CreateElement)({classnames:"columns is-multiline "}),n=(0,e.CreateElement)({classnames:"column is-12 is-6-desktop mb-5 px-4"}),s=(0,e.CreateElement)({classnames:"column is-12 is-6-desktop mb-5 px-4"}),i=(0,e.CreateElement)({classnames:"box menu",attributes:{style:"height: 300px; overflow: auto"}}),o=(0,e.CreateElement)({classnames:"box menu",attributes:{style:"height: 300px; overflow: auto"}}),r=this.addedList=(0,e.CreateElement)({tagname:"ul",classnames:"menu-list option-list"}),l=this.availableList=(0,e.CreateElement)({tagname:"ul",classnames:"menu-list option-list"});this._PopulateList(r,this.data.added),this._PopulateList(l,this.data.available),this.data.available.length&&this.targetIsInput&&(this.target.value=JSON.stringify(this.data.added)),i.append(r),o.append(l),n.append(i),s.append(o),a.append(s),a.append(n),t.append(a),this.targetIsInput?(this.target.type="hidden",this.target.parentNode.insertBefore(t,this.target)):this.target.append(t)}},{key:"getData",get:function(){return{added:this.data.added,available:this.data.available}}}],o&&i(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),a}()})(),n})()}));